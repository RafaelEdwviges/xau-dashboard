<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>XAU/USD Dashboard — Macro (DXY • VIX • Yields • SPX)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg:#0b0f14;
      --panel:#0f1720;
      --muted:#94a3b8;
      --accent: #fbbf24;
    }
    html,body{height:100%;margin:0;background:var(--bg);color:#fff;font-family:Inter,Arial,Helvetica,sans-serif}
    header{padding:14px 20px;border-bottom:1px solid rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:space-between}
    .title {font-size:18px;font-weight:700;color:var(--accent)}
    .container{max-width:1200px;margin:18px auto;padding:0 14px}
    .layout{display:grid;grid-template-columns:2fr 1fr;gap:12px}
    .main-card{background:var(--panel);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
    /* left main XAU */
    .xau-wrap{height:560px}
    /* right column small widgets */
    .widgets-grid{display:grid;grid-template-columns:repeat(1,1fr);gap:10px}
    .small-w{height:170px}
    /* calendar */
    .calendar{margin-top:12px;background:var(--panel);border-radius:10px;padding:8px;height:360px;border:1px solid rgba(255,255,255,0.03)}
    /* footer mini */
    .meta{font-size:12px;color:var(--muted);margin-top:8px}
    @media(max-width:980px){
      .layout{grid-template-columns:1fr; padding-bottom:40px}
      .xau-wrap{height:420px}
      .small-w{height:140px}
      .calendar{height:320px}
    }
  </style>
</head>
<body>
  <header>
    <div class="title">XAU/USD — Dashboard Macro</div>
    <div style="font-size:13px;color:var(--muted)">Tema: Dark · Fonte: TradingView & Economic calendar</div>
  </header>

  <div class="container">
    <div class="layout">
      <!-- LEFT: XAU large -->
      <div class="main-card">
        <div class="xau-wrap" id="tv-xau-container"></div>
        <div class="meta">XAU/USD (OANDA) — intervalo 15min — tema dark</div>
      </div>

      <!-- RIGHT: widgets -->
      <div style="display:flex;flex-direction:column;gap:10px">
        <div class="main-card widgets-grid">
          <div id="tv-dxy" class="small-w"></div>
          <div id="tv-vix" class="small-w"></div>
          <div id="tv-tnx" class="small-w"></div>
          <div id="tv-spx" class="small-w"></div>
        </div>

        <div class="main-card calendar">
          <div style="font-weight:600;margin-bottom:8px">Calendário Econômico (Hoje)</div>
          <!-- Economic calendar embed (ForexProTools) -->
          <iframe src="https://sslecal2.forexprostools.com/?columns=exc_time,exc_currency,exc_event,exc_actual,exc_forecast,exc_previous&impacts=3,2,1&timezone=8&lang=12" 
                  style="width:100%;height:100%;border:0;border-radius:6px;background:transparent"></iframe>
        </div>
      </div>
    </div>

    <div style="margin-top:14px;color:var(--muted);font-size:13px">
      DXY (Dollar Index), VIX (Volatility Index), US10Y (TNX) and S&P500 are shown at right. Use the TradingView toolbar to change symbol/interval if needed.
    </div>
  </div>

  <!-- TradingView script (one global include) -->
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>

  <script>
    /* Helper to create widgets with similar options */
    function createWidget(containerId, symbol, heightPx, interval='60') {
      new TradingView.widget({
        "container_id": containerId,
        "width": "100%",
        "height": heightPx,
        "symbol": symbol,
        "interval": interval,
        "timezone": "Etc/UTC",
        "theme": "dark",
        "style": "1",
        "locale": "br",
        "toolbar_bg": "#111",
        "hide_top_toolbar": true,
        "save_image": false,
        "studies": [],
        "withdateranges": false
      });
    }

    /* Main XAU big chart */
    new TradingView.widget({
      "container_id": "tv-xau-container",
      "width": "100%",
      "height": "100%",
      "symbol": "OANDA:XAUUSD",
      "interval": "15",
      "timezone": "Etc/UTC",
      "theme": "dark",
      "style": "1",
      "locale": "br",
      "toolbar_bg": "#111",
      "hide_side_toolbar": false,
      "enable_publishing": false,
      "save_image": false
    });

    /* Small widgets (DXY, VIX, US10Y, SPX) */
    // DXY: TV symbol TVC:DXY or ICEUS:DXY depending availability
    createWidget("tv-dxy","TVC:DXY",170,"60");
    // VIX
    createWidget("tv-vix","CBOE:VIX",170,"60");
    // US10Y (TNX) — TradingView symbol TVC:US10Y or ^TNX; common is TVC:US10Y
    createWidget("tv-tnx","TVC:US10Y",170,"60");
    // S&P500 (index)
    createWidget("tv-spx","SP:SPX",170,"60");
  </script>

</body>
</html>
